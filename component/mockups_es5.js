"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){var t=document.getElementsByTagName("script"),n=t[t.length-1].src;n=n.replace("mockups_es5.js",""),n=n.replace("mockups.js","");var o={init:function(t){var n=e(this);n.addClass("mockups"),i.initMockups(n,t)},destroy:function(){}},i={initMockups:function(e,t){console.log("options: ",t);var n=i.getTemplate("mockups.html");n.then(function(n){e.append(n({type:t.type}))}).then(function(){i.setDevice(e,t)}).then(function(){var n=e.find(".userapp");i.putImage(n,t)})},putImage:function(e,t){return new Promise(function(n,o){t.adjust?console.info("TODO: a smart adjust process"):e.append('<img src="'+t.img+'">'),n()})},setDevice:function(e,t){var o=e.find(".device");return new Promise(function(i,c){o.append('<img src="'+n+"img/"+t.type+'.png">'),t.reflection&&e.find(".reflection").append('<img src="'+n+"img/"+t.type+'_reflection.png">'),i()})},getTemplate:function(t){return new Promise(function(o,i){e.get(n+"templates/"+t,function(e){o(_.template(e))}).fail(function(){i("no template")})})}};e.fn.mockups=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==("undefined"==typeof t?"undefined":_typeof(t))&&t?void e.error("Method "+t+" does not exist on jQuery.mockups"):o.init.apply(this,arguments)}}(jQuery);